% !TEX TS-program = xelatex
% !BIB TS-program = biber
% !TEX encoding = UTF-8 Unicode
%TC: macro \usetikzlibrary [ignore]
%TC: macro \usepgfplotslibrary [ignore]
%TC: macro \pgfplotsset [ignore]
% Common premable commands for Zhang Maiyun's UWC CSC documents
% Based on MikTeX article template

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% PACKAGES
\usepackage{graphicx} % support the \includegraphics command and options
\usepackage{booktabs} % for much better looking tables
\usepackage{threeparttable} % three line style table with footnotes
\usepackage{multirow} % multi row table cells
\usepackage{indentfirst} % optional, indent the first paragraph
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[version=4]{mhchem} % typeset chemical formulas
\usepackage{siunitx} % typeset SI units
\usepackage{textcomp} % some other symbols
\usepackage{xcolor} % color names
\usepackage{csquotes}
\usepackage[american]{babel}
\usepackage[style=mla-new, backend=biber]{biblatex} % MLA8 format citation as required
\usepackage{tikz} % drawing support
\usetikzlibrary{calc} % tikz point calculations
\usepackage{pgfplots} % plotting in tikz
\pgfplotsset{compat=1.17, compat/show suggested version=false}
\usepgfplotslibrary{units}
\usepackage{fontspec} % about Chinese fonts
\usepackage[slantfont, boldfont]{xeCJK}

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

\usepackage[hidelinks]{hyperref}

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper}
\geometry{margin=1in} % for example, change the margins to 2 inches all round

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% Nian Liu's FP Chemistry E4 title requirements
\newcommand{\makeefourtitle}{
\begin{titlepage}
\begin{center}
\vspace*{9em}
\begin{huge}\textbf{\vlabtitle}\end{huge}\\
\vspace{1.5em}
\large
FP Chemistry E4
\vfill
\def\oldarraystretch{\arraystretch}
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{rl}
Written by& \vlabauthor\\
Partners:& \vlabpartners\\
Supervisor:& Peter Muya\\
Date:& \vlabdate
\vspace{13em}
\end{tabular}
\renewcommand{\arraystretch}{\oldarraystretch}
\end{center}
\end{titlepage}}
% specify the information of this lab report
\newcommand{\labtitle}[1]{\def\vlabtitle{#1}}
\newcommand{\labauthor}[1]{\def\vlabauthor{#1}}
\newcommand{\labpartners}[1]{\def\vlabpartners{#1}}
\newcommand{\labdate}[1]{\def\vlabdate{#1}}

%% Chinese fonts selection
\newcommand{\zmyCJKmacnew}{macosnew}
\newcommand{\zmyCJKwinnew}{windowsnew}
\newcommand{\zmyCJKmacold}{macosold}
\newcommand{\zmyCJKwinold}{windowsold}
\newcommand{\zmyCJKlinux}{linux}
% Run this in documents requiring CJK fonts
\newcommand{\zmyCJKenable}[1]{
    % From ctex/fontset/ctex-fontset-*.def
    % Fonts for macOS
    \ifx#1\zmyCJKmacnew
        % >= EL Capitan
        \setCJKmainfont[UprightFont=* Light,BoldFont=* Bold,ItalicFont=Kaiti SC,BoldItalicFont=Kaiti SC Bold]{Songti SC}
        \setCJKsansfont{PingFang SC}
        \setCJKmonofont{STFangsong}
    \else\ifx#1\zmyCJKmacold
        % <= Yosemite
        \setCJKmainfont[BoldFont=STHeiti,ItalicFont=STKaiti]{STSong}
        \setCJKsansfont[BoldFont=STHeiti]{STXihei}
        \setCJKmonofont{STFangsong}
    % Fonts for Windows
    \else\ifx#1\zmyCJKwinnew
        % >= Vista
        \setCJKmainfont[BoldFont=SimHei,ItalicFont=KaiTi]{SimSun}
        \setCJKsansfont[BoldFont={* Bold}]{Microsoft YaHei}
        \setCJKmonofont{FangSong}
    \else\ifx#1\zmyCJKwinold
        % <= XP
        \setCJKmainfont[BoldFont=SimHei,ItalicFont=KaiTi_GB2312]{SimSun}
        \setCJKsansfont{SimHei}
        \setCJKmonofont{FangSong_GB2312}
    \else\ifx#1\zmyCJKlinux
        % Fonts for Ubuntu
        \setCJKmainfont[BoldFont=WenQuanYi Zen Hei,ItalicFont=AR PL UKai CN]{AR PL UMing CN}
        \setCJKsansfont{WenQuanYi Zen Hei}
        \setCJKmonofont{AR PL UMing CN}
    \else
        \errmessage{Cannot find specified platform to select CJK fonts}
    \fi\fi\fi\fi\fi
}

\author{Maiyun Zhang}
\labauthor{Maiyun Zhang}
